# VEX Serial Node Configuration
# All parameters for the VEX V5 serial communication node

vex_serial_node:
  ros__parameters:
    # ==================== SERIAL CONFIG ====================
    serial_port: "/dev/ttyACM1"  # USB serial port for VEX V5
    baud_rate: 115200            # Must match V5 code
    
    # ==================== FRAME IDS ====================
    odom_frame: "odom"           # Parent frame for odometry
    base_frame: "base_link"      # Robot base frame
    publish_tf: false            # Set false - EKF publishes odom->base_link
    
    # ==================== ROBOT GEOMETRY ====================
    # These MUST match your physical robot exactly! 
    wheel_radius: 0.0508         # 5.08 cm (2 inches)
    track_width: 0.29            # 29 cm (wheel center to center)
    ticks_per_revolution: 900    # VEX V5 motor with 18: 1 cartridge
    
    # ==================== MOTOR DIRECTION ====================
    # Compensates for physically mirrored motors
    # Right motors are mounted mirrored, so we invert the right encoder
    invert_left_encoder: false   # Left motors normal
    invert_right_encoder:  true   # Right motors inverted (mirrored mounting)
    
    # ==================== SAFETY ====================
    cmd_timeout_sec: 0.5         # Stop if no commands for this duration
    max_linear_vel: 0.3          # Max forward/backward speed (m/s)
    max_angular_vel: 1.5         # Max rotation speed (rad/s)
    
    # ==================== ODOMETRY COVARIANCE ====================
    # Diagonal elements of 6x6 covariance matrix [x, y, z, roll, pitch, yaw]
    # Tune based on floor surface and wheel slip
    pose_covariance_diagonal: [0.01, 0.01, 0.01, 0.01, 0.01, 0.03]
    twist_covariance_diagonal: [0.01, 0.01, 0.01, 0.01, 0.01, 0.03]
