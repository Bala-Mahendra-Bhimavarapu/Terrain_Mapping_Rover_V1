# Auto-Exposure Controller Configuration

auto_exposure_node:
  ros__parameters:
    # Target brightness (0-255)
    # 128 is middle gray, good for SLAM feature detection
    target_brightness: 128.0
    
    # Acceptable deviation from target before adjusting
    brightness_tolerance:  15.0
    
    # Exposure time limits (milliseconds)
    max_exposure_time_ms: 50.0    # 50ms max to avoid motion blur
    min_exposure_time_ms: 0.1     # 0.1ms min
    
    # Gain limits
    max_gain: 8.0                 # Higher gain = more noise
    min_gain: 1.0
    
    # Region of Interest for metering (0-1, fraction of image)
    # 0.5 = center 50% of image
    roi_fraction: 0.5
    
    # How often to adjust (Hz)
    adjustment_rate_hz: 5.0
    
    # Lock exposure during motion to prevent flicker
    lock_during_motion: true
    motion_threshold: 0.5         # rad/s angular velocity threshold
    
    # Use AI classification confidence as feedback
    use_classification_feedback: false
    min_classification_confidence: 0.7
